# 1. Logging
Logging là quy trình tự động ghi lại các sự kiện, hành động hoặc thông tin quan trọng của ứng dụng, hệ điều hành, hay thiết bị mạng vào file log (bản ghi) theo thời gian thực

Đây là công cụ thiết yếu để theo dõi sức khỏe hệ thống, chẩn đoán lỗi (debug) và phân tích hành vi người dùng. 

Các thành phần và đặc điểm chính của Logging:

- Nội dung log: Thường bao gồm thời gian (timestamp), thông báo sự kiện, và mức độ nghiêm trọng.

- Các mức độ (Log Levels) phổ biến:
    + INFO: Thông tin hoạt động chung.

    + WARN: Cảnh báo các lỗi tiềm ẩn.

    + ERROR: Lỗi xảy ra ảnh hưởng đến trải nghiệm người dùng.

    + FATAL/CRITICAL: Lỗi nghiêm trọng khiến hệ thống bị treo hoặc dừng hoạt động.

 - Nơi lưu trữ: Log có thể được ghi vào file, console, database hoặc các hệ thống tập trung (ELK Stack, Splunk...).

- Tầm quan trọng: Giúp phát hiện nhanh các vấn đề khi hệ thống đang chạy (production), hỗ trợ debug và nâng cao khả năng bảo mật. 

# 2. ELK Stack là gì?
ELK Stack là từ viết tắt được sử dụng để mô tả bộ dịch vụ bao gồm ba dự án phổ biến: Elasticsearch, Logstash và Kibana.

ELK Stack mang tới cho bạn khả năng tổng hợp nhật ký từ tất cả các hệ thống và ứng dụng của bạn, phân tích những nhật ký này, hiển thị dữ liệu để giám sát ứng dụng và cơ sở hạ tầng, khắc phục sự cố nhanh hơn, phân tích bảo mật, v.v.

## 2.1. Elasticsearch
### 2.1.1. Elasticsearch là gì?
Elasticsearch là công cụ tìm kiếm và phân tích phân tán được xây dựng trên Apache Lucene.

Kể từ khi ra mắt năm 2010, Elasticsearch đã nhanh chóng trở thành công cụ tìm kiếm thông dụng nhất và được sử dụng rộng rãi cho các trường hợp sử dụng liên quan đến phân tích nhật ký, tìm kiếm toàn văn bản, thông tin bảo mật, phân tích nghiệp vụ và thông tin vận hành.

### 2.1.2. Elasticsearch hoạt động như thế nào?
Có thể gửi dữ liệu dưới dạng tài liệu JSON lên Elasticsearch bằng cách sử dụng API hoặc công cụ tải nhập như Logstash

Elasticsearch tự động lưu trữ văn bản gốc và thêm tham chiếu có thể tìm kiếm vào văn bản ở phần chỉ mục của cụm.

Khi đó, có thể tìm và truy xuất văn bản bằng cách sử dụng Elasticsearch API.

Cũng có thể sử dụng công cụ trực quan hóa Kibana cùng Elasticsearch để hiển thị trực quan dữ liệu và xây dựng bảng điều khiển tương tác.

### 2.1.3. Lợi ích của Elasticsearch
`Nhanh chóng tạo ra giá trị`: Elasticsearch cung cấp các API dựa trên REST đơn giản, một giao diện HTTP đơn giản và sử dụng văn bản JSON không chứa giản đồ, giúp dễ dàng bắt đầu và dựng ứng dụng một cách nhanh chóng cho nhiều trường hợp sử dụng khác nhau.

`Hiệu năng cao`: Bản chất phân tán của Elasticsearch giúp hệ thống xử lý song song các khối lượng dữ liệu lớn, nhanh chóng tìm được dữ liệu phù hợp với yêu cầu.

`Công cụ và plugin bổ sung`: Elasticsearch được tích hợp sẵn Kibana, một công cụ trực quan hóa và báo cáo thông dụng. Hệ thống cũng cung cấp khả năng tích hợp với Beats và Logstash, cho phép bạn dễ dàng chuyển đổi và tải dữ liệu nguồn vào cụm máy chủ Elasticsearch.

`Hoạt động gần như theo thời gian thực`: Hoạt động của Elasticsearch chẳng hạn như đọc hay ghi dữ liệu thường mất chưa đầy một giây để hoàn tất. Việc này cho phép bạn sử dụng Elasticsearch cho các trường hợp sử dụng gần theo thời gian thực như giám sát ứng dụng và phát hiện bất thường.

`Phát triển ứng dụng dễ dàng`: Elasticsearch hỗ trợ nhiều ngôn ngữ khác nhau như Java, Python, PHP, JavaScript, Node.js, Ruby, v.v.

## 2.2. Logstash
### 2.2.1. Logstash là gì?
Logstash là một công cụ tải nhập dữ liệu nguồn mở cho phép bạn thu thập dữ liệu từ các nguồn khác nhau, chuyển đổi dữ liệu và gửi dữ liệu tới điểm đích bạn muốn. 

Với các bộ lọc được tạo sẵn và hỗ trợ hơn 200 phần bổ trợ, Logstash cho phép người dùng dễ dàng tải nhập dữ liệu đến từ bất kỳ nguồn dữ liệu hay thuộc loại dữ liệu nào. 

### 2.2.2. Logstash hoạt động như thế nào?
Logstash là một quy trình xử lý dữ liệu phía máy chủ, nguồn mở, gọn nhẹ cho phép bạn thu nhập dữ liệu từ các nguồn khác nhau, chuyển đổi dữ liệu nhanh chóng và gửi dữ liệu tới điểm đích bạn muốn.

Logstash thường được sử dụng như một đường ống dữ liệu cho Elasticsearch, một công cụ phân tích và tìm kiếm nguồn mở.

Bởi vì được tích hợp chặt chẽ với Elasticsearch, khả năng xử lý bản ghi mạnh mẽ và hơn 200 phần bổ trợ nguồn mở được tạo sẵn có thể giúp bạn dễ dàng lập chỉ mục cho dữ liệu của mình, Logstash là một lựa chọn phổ biến cho hoạt động tải dữ liệu vào Elasticsearch.

### 2.2.3. Lợi ích của Logstash
`Dễ dàng nạp dữ liệu phi cấu trúc`: Logstash cho phép bạn dễ dàng thu nạp dữ liệu không có cấu trúc từ các nguồn dữ liệu khác nhau bao gồm nhật ký hệ thống, nhật ký trang web và nhật ký máy chủ ứng dụng. 

`Bộ lọc được tạo sẵn`: Logstash cung cấp các bộ lọc được tạo sẵn, vì vậy có thể dễ dàng chuyển đổi những loại dữ liệu phổ biến, lập chỉ mục cho chúng trong Elasticsearch và bắt đầu truy vấn mà không cần phải xây dựng các quy trình chuyển đổi dữ liệu tùy chỉnh.

`Kiến trúc phần bổ trợ linh hoạt`: Với hơn 200 phần bổ trợ đã có sẵn trên GitHub, khả năng cao là có người đã xây dựng phần bổ trợ bạn cần để tùy chỉnh quy trình dữ liệu của mình. Nhưng nếu như không có phần bổ trợ phù hợp với những yêu cầu của bạn, bạn có thể dễ dàng tự tạo phần bổ trợ cho riêng mình.

## 2.3. Kibana
### 2.3.1. Kibana là gì?
Kibana là một công cụ hiển thị trực quan và khám phá dữ liệu được sử dụng trong những trường hợp phân tích nhật ký và chuỗi thời gian, giám sát ứng dụng và thông tin kinh doanh.

Công cụ này cung cấp những tính năng mạnh mẽ, dễ sử dụng như biểu đồ tần suất, biểu đồ đường, biểu đồ tròn, biểu đồ nhiệt và hỗ trợ không gian địa lý được tích hợp sẵn.

Ngoài ra, công cụ này còn cung cấp khả năng tích hợp chặt chẽ với Elasticsearch, một công cụ phân tích và tìm kiếm phổ biến, khiến Kibana trở thành lựa chọn hàng đầu cho hoạt động hiển thị trực quan dữ liệu được lưu trữ trong Elasticsearch.

### 2.3.2. Lợi ích của Kibana
`Biểu đồ tương tác`: Kibana cung cấp các biểu đồ và báo cáo trực quan mà bạn có thể sử dụng để điều hướng tương tác giữa một lượng lớn dữ liệu nhật ký. Có thể linh hoạt kéo các cửa sổ thời gian, phóng to/thu nhỏ những tập dữ liệu con cụ thể và xem chi tiết các báo cáo để trích xuất thông tin hữu ích từ dữ liệu của mình.

`Hỗ trợ ánh xạ`: Kibana đi kèm với khả năng hỗ trợ không gian địa lý mạnh mẽ để có thể xếp lớp thông tin địa lý một cách liền mạch lên trên dữ liệu của mình và hiển thị trực quan kết quả trên bản đồ.

`Bộ lọc và dữ liệu tổng hợp được tạo sẵn`: Sử dụng bộ lọc và dữ liệu tổng hợp được tạo sẵn của Kibana, bạn có thể chạy các phân tích khác nhau như biểu đồ tần suất, truy vấn top-N và xu hướng chỉ trong vài bước.

`Bảng thông tin dễ dàng truy cập`: Có thể dễ dàng thiết lập bảng thông tin và báo cáo cũng như chia sẻ chúng với những người khác. Chỉ cần có một trình duyệt để xem và khám phá dữ liệu.

## 2.4 Cách họat động của ELK Stack
1. Logstash tải nhập, chuyển đổi và gửi dữ liệu đến đúng điểm đích.

2. Elasticsearch lập chỉ mục, phân tích và tìm kiếm dữ liệu đã tải nhập.

3. Kibana hiển thị kết quả phân tích.












