# 1. Cấu trúc file config
- Openstack sử dụng định dạng INI file format cho file config của mình.

- INI file là một dạng file text thể hiện các option theo các cặp giá trị key = value, và đc nhóm lại thành các section

- Section DEFAULT chứa hầu hết các tùy chọn cấu hình

- Một số các dạng value của các option mà Openstack sử dụng:

| Value | Ý nghĩa |
| ------------ | ----------------------- |
| boolean |  |
|  | Giá trị cho phép lựa chọn là true và fale |
| float | Số thực (ví dụ 0.25 hoặc 1000) |
| interger | interger |
| list | danh sách các values được phân tách nhau bởi dấu phẩy |
| muilti valued | là một string value và có thể gán nhiều hơn 1 giá trị, tất cả sẽ đều được sử dụng. |
| string | có thể có hoặc không đặt trong dấu "" hoặc '' |

### Section
- Các tùy chọn cài đặt được nhóm lại thành các section. Thông thường hầu hết các file config của OpenStack đều có 2 section [DEFAULT] và [database]

### Substitution
- File config hỗ trợ variable substitution. Sau khi thiết lập, tùy chọn cấu hình đó có thể được dùng lại trong các giá tùy chọn khác bằng cách thêm dấu $, ví dụ như rabbit_hosts = $rabbit_host:$rabbit_port

### Whitespace
- Để sử dụng khoảng trắng trong phần value, sử dụng dấu nháy đơn ''. Ví dụ: ldap_dns_passsword='a password with spaces'

# 2. Default Section

| [#]Key = Default Value | Mô tả |
| ------------------ | ------------------------------------- |
| #admin_token = None | Không được khuyến nghị sử dụng. Sử dụng đoạn mã này có thể khởi động Keystone thông qua API . Token này không thuộc về một user cụ thể , đây là một hình thức bypass hầu như các phần kiểm tra ủy quyền |
| #public_endpoint = None | Cung cấp một URL API endpoint cho các Client. Nên cấu hình một URL không trùng với các endpoint path default hoặc endpoint đang sử dụng ở một host khác |
| #admin_endpoint = None | Cung cấp thêm một URL API endpoint co các Client. Nên cấu hình một URL không trùng với các endpoint path default hoặc endpoint đang sử dụng ở một host khác |
| #max_project_tree_depth = 5 | Giới hạn số lần phân cấp trong một project |
| #max_param_size = 64 | Giới hạn ký tự của ID và Name trong user và group |
| #max_token_size = 255 | Giới hạn chiều dài của Token, với Fernet token 255 , UUID là 32 |
| #crypt_strength = 10000 | Sử dụng hàm mã hóa băm passlib |
| #list_limit = None | Số lượng các user và group được lưu tối đa |
| #strict_password_check = false | Kiểm tra pasword khi gửi request đến, nếu set True khi password gửi đến qua ký tự đối đa sẽ trả status 403 |
| #secure_proxy_ssl_header = HTTP_X_FORWARDED_PROTO | Sử dụng HTTP cho các request |
| #insecure_debug = false | Cung cấp bổ sung thông tin để phục vụ debug trong các HTTP Response |
| #default_publisher_id = None | Cung cấp host để đẩy các thông báo, mặc định là server name |

# 3. oslo.log section
| [#]Key = Default Value | Mô tả |
| ------------------ | ------------------------------------- |
| #debug = false | Nếu enable chức năng này LOG sẽ được chuyển sang mode DEBUG |
| #log_config_append = None | Chỉ định file chứa log |
| #log_date_format = %Y-%m-%d %H:%M:%S | Chỉ định format thời gian trong log |
| #log_dir = None | Chỉ định folder chứa LOG, sẽ được bỏ qua nến đã enable log_config_append |
| #use_syslog = false | Sử dụng syslog /var/syslog.txt để làm file lưu log |
| #use_journal = false | sử dụng journal để lưu log |
| #use_json = false | sử dụng JSON Format để lưu log |

# 4. catalog section
| [#]Key = Default Value | Mô tả |
| ------------------ | ------------------------------------- |
| #template_file = default_catalog.templates | chỉ định file làm catalog template |
| #driver = sql | chỉ định SQL backend làm catalog entry |
| #caching = true | lưu cache các catalog |
| #cache_time = None | thời gian lưu cache tối đa |
| #list_limit = None | Số endpoint giới hạn trên mỗi catalog |

# 5. Fernet tokens configuration options
| [#]Key = Default Value | Mô tả |
| ------------------ | ------------------------------------- |
| key_repository = /etc/keystone/fernet-keys/ | (String) Thư mục chứa Fernet token keys |
| max_active_keys = 3 | (Integer) Số lượng keys cho phép để rotate |

# token section
| [#]Key = Default Value | Mô tả |
| ------------------ | ------------------------------------- |
| allow_rescope_scoped_token = True | (Boolean) Cho phép tái sử dụng scoped token |
| bind = | (List) Cơ chế xác thực bên ngoài thêm bind information vào token vd kerberos,x509. |
| enforce_token_bind = permissive | (String) Sử dụng cho các token có bind information. Các tùy chọn đó là disabled, permissive, strict, |
|expiration = 3600  | (Integer) Thời gian token có hiệu lực (theo giây) |
| hash_algorithm = md5 | (String) thuật toán sử dụng cho PKI token. Những algorithm trong hashlib đều được hỗ trợ. |
| provider = uuid | (String) Kiểm soát các cơ chế tạo, xác thực, gỡ bỏ token. Hiện tại có 4 provider đó là fernet |
| revoke_by_id = True | (Boolean) Cho phép hủy token bằng token id |



