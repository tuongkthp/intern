# virtualizations
- Virtualizations (ảo hóa) là một công nghệ cho phép tạo những phần đại diện ảo về phần cứng vật lý như là máy chủ, lưu trữ, mạng và một số máy vật lý khác

- Công nghệ cho phép nhiều máy ảo chạy trên một máy vật lý bằng cách mô phỏng các chức năng của phần cứng vật lý

- Giúp sử dụng hiểu quả tài nguyên phần cứng

# Protected ring
- Là một mô hình phân cấp quyền hạn trong hệ điều hành và kiến trúc CPU, dùng để bảo vệ tài nguyên hệ thống và ngăn chương trình trái phép tác động vào vùng nhạy cảm

- Hệ điều hành và CPU chia quyền truy cập tới tài nguyên hệ thống theo “vòng” — từ được phép cao nhất đến được phép thấp nhất

- Các cấp độ của Protected ring (4 cấp cơ bản từ 0-3):
    + Cấp 0: Đặc quyền cao nhất - Thường dành cho kernel/điều hành của OS

    + Cấp 3: Đặc quyền thấp nhất - Dành cho chương trình ứng dụng

- Quy tắc chung: Các tài nguyên có thể truy cập bởi cấp độ 'n' thì cũng có thể được truy cập từ cấp độ '0' đến cấp độ 'n'

- Chế độ của Protected ring (2 chế độ cơ bản):
    + Supervisor Mode: Chế độ thực thi của các bộ xử lý cho phép thực đi tất cả các lệnh bao gồm cả lệnh đặc quyền (privileged instructions)

    + Hypervisor Mode: Các CPU hiện đại cung cấp hướng dẫn ảo hóa x86 cho hypervisor để kiểm soát quyền truy cập phần cứng "Ring 0"

# Kiến trúc x86
- Kiến trúc x86 là một kiến trúc tập lệnh CPU (Instruction Set Architecture – ISA)

- Là kiến trúc phổ biến dành cho máy tính cá nhân

- x86 thuộc loại CISC (Complex Instruction Set Computer) - Tập lệnh phức tạp, nhiều lệnh, mỗi lệnh có thể thực hiện nhiều thao tác

- Có 2 chế độ chính:
    + Real mode: chế độ khởi động ban đầu của bộ xử lý. Ở chế độ này, bộ nhớ bị giới hạn ở 1MB, và tất cả mã đều chạy với quyền truy cập đầy đủ, không có cơ chế bảo vệ

    + Protected mode: chế độ hoạt động hiện đại hơn, cung cấp các tính năng như quản lý bộ nhớ ảo, phân trang, và bảo vệ tiến trình. Đây là chế độ được các hệ điều hành như Windows và Linux sử dụng

# Một số loại Virtualizations
- Full Virtualization: phương pháp tách biệt hoàn toàn phần cứng, hệ điều hành, dịch vụ của máy ảo với máy chủ (Giống máy thật)

- OS Virtualization: sử dụng một phần của hệ điều hành máy chủ để có thể sử dụng tất cả các tính năng như ảo hóa toàn phần

- Partial Virtualization: ảo hóa một số phần cứng nhất định của máy tính

- Paravirtualization (Ảo hóa song song): tạo ra một lớp giao diện phần mềm để các hệ điều hành ảo và hypervisor giao tiếp với nhau (ko ảo háo phần cứng)

# Hypervisor
- Hypervisor (or Virtual Machine Monitor, VMM) là một phần mềm cho phép nhiều hệ điều hành chạy trên một máy vật lý

- Quản lý tài nguyên phần cứng (CPU, memory, storage) và phân bổ chúng đến các máy ảo

    ### Sự khác biệt giữa Hypervisor và Virtualizations

    | Virtualizations | Hypervisor |
    | ------------------- | ---------------- |
    | Tạo ra tài nguyên ảo (VM, network, storage...) | Tạo & quản lý VM (compute virtualization) |
    | Phạm vi rộng (compute, storage, network, desktop, data...) | Chỉ tập trung vào VM |
    | Là một khái niệm | Là một phần mềm |
    | Công nghệ tổng quan | Công cụ/Phần mềm |

- Có 2 loại Hypervisor chính:
    + Loại 1: 
        * Chạy trực tiếp trên phần cứng của máy, ko dựa vào hệ điều hành của máy

        * Hiệu suất và bảo mật tốt hơn vì không có OS trung gian

        * Tiêu chuẩn của các trung tâm dữ liệu cấp doanh nghiệp và các nhà cung cấp 'cloud'

    + Loại 2:
        * Chạy trên các hệ điều hành thông thường

        * Cơ bản thì nó là ứng dụng trong OS của máy

        * Thường dùng cho 'Desktop virtualisation', phát triển, và kiểm
        thử môi trường

        * Hiệu suất thấp hơn so với loại 1

# Các loại CPU virtualization
- Full Virtualization: OS khách không biết mình đang chạy trong môi trường ảo

- Para-Virtualization: OS khách biết nó đang chạy trong môi trường ảo và được chỉnh sửa lại

- Hardware-Assisted Virtualization: CPU cung cấp cơ chế trực tiếp hỗ trợ hypervisor
