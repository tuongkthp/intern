# 1. Endpoint
### 1.1. Endpoint là gì
- Endpoint (Điểm cuối API) là địa chỉ mạng cụ thể (URL) nơi một dịch vụ API của OpenStack có thể được truy cập. Nó hoạt động như một "danh thiếp" công khai, cho phép các dịch vụ khác và người dùng biết chính xác nơi gửi các yêu cầu giao tiếp

- Tất cả các Endpoint đều được đăng ký và quản lý trong Keystone Service Catalog (Danh mục Dịch vụ Keystone)

- Vai trò và vị trí của endpoint:

    + Vị trí: Endpoint không phải là bản thân dịch vụ, mà là địa chỉ của dịch vụ đó

    + Vai trò: Giúp các thành phần của OpenStack (ví dụ: Nova, Glance, Neutron) hoặc các ứng dụng bên ngoài (OpenStack CLI, Horizon) tìm thấy nhau

    + Keystone Service Catalog: Khi một dịch vụ mới được cài đặt, quản trị viên phải đăng ký dịch vụ đó và các Endpoint tương ứng vào Keystone

### 1.2. Các loại Endpoint
- Mỗi dịch vụ phải có ba loại Endpoint (Public, Internal, Admin)

| Type | Mục đích |
| ------------ | --------------------- |
| Public | Truy cập từ bên ngoài mạng quản lý. Dành cho người dùng cuối (ví dụ: giao diện Horizon, CLI từ máy tính cá nhân) |
| Internal | Truy cập giữa các dịch vụ nội bộ của OpenStack (Service-to-Service). Ví dụ: Nova gọi Glance, Nova gọi Neutron |
| Admin | Truy cập dành riêng cho Quản trị viên để thực hiện các thao tác quản lý nhạy cảm (ví dụ: xóa người dùng, sửa Endpoint) |

### 1.3. Mối liên hệ giữa Endpoint và Xác thực
- Khi một thành phần OpenStack cần truy cập dịch vụ khác:
    
    1. Lấy Token: Nó gọi Keystone để xác thực bằng thông tin đăng nhập và nhận về một Token cùng với Service Catalog (danh sách Endpoint)

    2. Tìm kiếm: Nó tìm trong Service Catalog để lấy URL của dịch vụ mong muốn (ví dụ: Service Type compute, Interface internal)

    3. Truy cập: Nó sử dụng URL đó và Token để gửi yêu cầu API

# 2. Catalog
- Service Catalog là một danh sách các dịch vụ OpenStack hiện có mà một người dùng hoặc dịch vụ có quyền truy cập. Nó được trả về cho người dùng/dịch vụ mỗi khi họ xác thực thành công và nhận được một Token từ Keystone

- Vai trò của catalog:

    + Khám phá Dịch vụ (Service Discovery): Đây là chức năng quan trọng nhất. Khi một công cụ CLI, Horizon, hoặc một dịch vụ nội bộ (ví dụ: Nova) cần tương tác với dịch vụ khác (ví dụ: Glance), nó không cần phải nhớ địa chỉ IP/Port. Thay vào đó, nó tra cứu Catalog để tìm địa chỉ Endpoint hiện tại

    + Định tuyến API: Catalog chứa URL cụ thể (Endpoint) mà yêu cầu API phải được gửi đến

    + Hỗ trợ Multi-Region: Catalog có thể liệt kê cùng một dịch vụ (ví dụ: Nova) nhưng với các Endpoint khác nhau, được phân biệt bằng Region ID, cho phép người dùng/dịch vụ chọn Endpoint phù hợp với khu vực của họ








