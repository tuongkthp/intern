### 1. Identity (Keystone)

Hiển thị user đã được cài đặt
```sh
openstack user list
```

Hiển thị thuộc tính được cấp cho user
```sh
openstack user list
```

Tạo user
```sh
openstack user create --project [projectname] --email William@example.com --password [password] --enable [username]
```

Cấp quyền `admin` cho user
```sh
openstack role add --user [username] --project [projectname] admin
```

Kiểm tra quyền của user
```sh
openstack role assignment list --user [username] --project 
[projectname]

openstack role assignment list --user [username] --project [projectname] --names
```

### 2. Flavor

Tạo flavor
```sh
# Create flavor named m1.petite with 1 vcpu, 1 GB RAM, 10 GB Disk and must not be publicly accessible

openstack flavor create --id auto --vcpus 1 --ram 1024 --disk 10 --private m1.petite
```

Thêm một flavor vào một project
```sh
openstack flavor set --project [projectname] [flavor_name]
```

### 3. Security Group

Tạo một `security group`
```sh
openstack security group create [name]
```

Thêm quy tắc cho phép ssh và icmp vào một `security group`
```sh
openstack security group rule create --ingress --protocol tcp --dst-port 22 [name]

openstack security group rule create --ingress --protocol tcp --protocol icmp ssh [name]
```

### 4. Keypair

Tạo một cặp key tên là `webkey` tại thư mục home 
```sh
openstack keypair create webkey > ~/webkey.pem
```

### 5. Glance Image

Tạo một một `glance image` tên là `webimage` dùng file `osp-small.qcow2` có sẵn trong `/tmp`
```sh
openstack image create --disk-format qcow2 --file /tmp/osp-small.qcow2 webimage
```

### 6. Neutron (Network)

Tạo một `public` và `private` network cho project `Engineering`
```sh
openstack network create --external --provider-network-type flat --provider-physical-network datacentre --project Engineering --enable --no-share public

openstack network create --internal --project Engineering --enable --no-share private
```

Tạo một `external` network
```sh
openstack subnet create --network public --no-dhcp --project Engineering --subnet-range 172.25.250.0/24 --gateway 172.25.250.254 --allocation-pool start=172.25.250.100,end=172.25.250.150 external
```

Tạo một internal network
```sh
openstack subnet create --network private --project Engineering --subnet-range 192.168.1.0/24 internal
```

Tạo và cấu hình một router
```sh
openstack router add subnet Router1 internal

neutron router-gateway-set Router1 public
```

### 7. Server (Instance)

Tạo một instance/server
```sh
openstack server create --image webimage --flavor m1.petite --key-name webkey --security-group ssh --nic net-id=private webserver
```

Tạo một floating IP 
```sh
openstack ip floating create public
```

Đăng kí floating IP cho một instance
```sh
openstack ip floating add 172.25.250.100 webserver
```




